---
phase: 02-desktop-component-coverage
plan: 03
type: execute
wave: 1
depends_on: []
files_modified: [vscode.json]
autonomous: true
requirements: [VSCE-01, VSCE-02]

must_haves:
  truths:
    - "VS Code vscode.json includes workbench.colorCustomizations with AMOLED black backgrounds for editor, sidebar, terminal, panel, activity bar, title bar, and status bar"
    - "VS Code colorCustomizations use accent color for active tab indicator, focus border, and selection backgrounds"
    - "Existing name and extension fields in vscode.json are preserved unchanged"
  artifacts:
    - path: "vscode.json"
      provides: "VS Code theme with name, extension, and full colorCustomizations for AMOLED black workspace"
      contains: "colorCustomizations"
  key_links:
    - from: "vscode.json"
      to: "omarchy-theme-set-vscode"
      via: "Script reads name and extension fields (colorCustomizations NOT auto-applied -- manual user step)"
      pattern: "\"name\"|\"extension\""
---

<objective>
Extend the existing vscode.json with comprehensive workbench.colorCustomizations for AMOLED black backgrounds and accent-colored active indicators.

Purpose: VS Code is a primary development tool. AMOLED black backgrounds across editor, sidebar, terminal, and panel surfaces eliminate gray wash. Accent color on active tab indicator and focus borders provides visual consistency with the rest of the themed desktop.

Output: Updated vscode.json with name, extension (preserved), and new colorCustomizations key.

IMPORTANT: Omarchy's `omarchy-theme-set-vscode` only reads the `name` and `extension` fields. The `colorCustomizations` data is included as reference for users to manually add to their VS Code `settings.json`. This is a known framework limitation documented in research Pitfall 6.
</objective>

<execution_context>
@/home/asem/.claude/get-shit-done/workflows/execute-plan.md
@/home/asem/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-desktop-component-coverage/02-RESEARCH.md
@vscode.json
@colors.toml
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add AMOLED black workbench.colorCustomizations to vscode.json</name>
  <files>vscode.json</files>
  <action>
Update the existing `vscode.json` (currently contains only `name` and `extension`) to add a `colorCustomizations` key with full workspace color overrides.

**Preserve existing fields:**
- `"name": "Tokyo Night"` -- unchanged
- `"extension": "enkia.tokyo-night"` -- unchanged

**Add colorCustomizations scoped to Tokyo Night theme:**

The `colorCustomizations` key contains a `"[Tokyo Night]"` scoped object with these color overrides:

**AMOLED black backgrounds (VSCE-01):**
- `editor.background`: #000000
- `editor.foreground`: #E8E0D0
- `sideBar.background`: #000000
- `sideBar.foreground`: #E8E0D0
- `sideBarTitle.foreground`: #E8E0D0
- `activityBar.background`: #000000
- `activityBar.foreground`: #E8E0D0
- `panel.background`: #000000
- `panel.border`: #111118 (color0 -- subtle border, not pure black)
- `terminal.background`: #000000
- `terminal.foreground`: #E8E0D0
- `titleBar.activeBackground`: #000000
- `titleBar.activeForeground`: #E8E0D0
- `statusBar.background`: #000000
- `statusBar.foreground`: #E8E0D0
- `tab.activeBackground`: #000000
- `tab.inactiveBackground`: #000000
- `tab.inactiveForeground`: #8A8598 (color7 -- muted foreground for inactive tabs)
- `editorGroupHeader.tabsBackground`: #000000
- `dropdown.background`: #000000
- `breadcrumb.background`: #000000
- `editorWidget.background`: #000000
- `input.background`: #111118 (color0 -- slightly lighter than pure black for depth)
- `input.foreground`: #E8E0D0
- `input.border`: #2A2835 (color8 -- subtle border on inputs)

**Accent-colored indicators (VSCE-02, per user decisions: minimal accent in editor):**
- `tab.activeBorderTop`: #7B6CBD (accent -- active tab indicator, per user decision)
- `focusBorder`: #7B6CBD (accent -- focus borders, per user decision)
- `selection.background`: #7B6CBD40 (accent at 25% opacity -- subtle selection highlight)
- `list.activeSelectionBackground`: #7B6CBD30 (accent at 19% opacity -- subtle list selection)
- `list.activeSelectionForeground`: #E8E0D0

Color source mapping:
- #000000 = colors.toml: background
- #E8E0D0 = colors.toml: foreground
- #7B6CBD = colors.toml: accent
- #111118 = colors.toml: color0
- #2A2835 = colors.toml: color8
- #8A8598 = colors.toml: color7

Produce valid JSON. Use 2-space indentation.
  </action>
  <verify>
Verify vscode.json:
- File exists and is valid JSON (parse with `cat vscode.json | python3 -m json.tool`)
- Contains `"name": "Tokyo Night"`
- Contains `"extension": "enkia.tokyo-night"`
- Contains `"colorCustomizations"` key
- Contains `"[Tokyo Night]"` scoped object inside colorCustomizations
- editor.background, sideBar.background, terminal.background, panel.background, activityBar.background, statusBar.background are all "#000000"
- tab.activeBorderTop and focusBorder are "#7B6CBD" (accent)
- selection.background contains accent with alpha (#7B6CBD40)
- Does NOT contain any template syntax
- Total keys in [Tokyo Night] object: at least 25 color overrides
  </verify>
  <done>vscode.json contains name, extension (unchanged), and colorCustomizations with 25+ AMOLED black workspace color overrides and accent-colored active indicators scoped to Tokyo Night theme</done>
</task>

</tasks>

<verification>
1. vscode.json is valid JSON
2. name and extension fields are preserved from the original file
3. colorCustomizations key exists with [Tokyo Night] scoped overrides
4. All background values are #000000 (AMOLED true black)
5. Accent color #7B6CBD used only on tab.activeBorderTop, focusBorder, and selection backgrounds (minimal accent per user decision)
6. No template syntax in the file
</verification>

<success_criteria>
vscode.json extended with comprehensive workbench.colorCustomizations providing AMOLED black backgrounds across all VS Code surfaces and accent-colored active indicators, while preserving the existing name and extension fields used by Omarchy's theme installation.
</success_criteria>

<output>
After completion, create `.planning/phases/02-desktop-component-coverage/02-03-SUMMARY.md`
</output>
