---
phase: 02-desktop-component-coverage
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [mako.ini, hyprlock.conf, chromium.theme]
autonomous: true
requirements: [COMP-04, COMP-06, COMP-07]

must_haves:
  truths:
    - "Mako notifications appear with AMOLED black background and urgency-differentiated border colors"
    - "Mako normal urgency uses accent border, low uses muted yellow, critical uses red"
    - "Hyprlock displays a large accent-colored clock over a dimmed/blurred wallpaper"
    - "Hyprlock password input has dark background with accent-colored border"
    - "Chromium browser toolbar shows AMOLED true black background"
  artifacts:
    - path: "mako.ini"
      provides: "Mako notification theme with AMOLED black, urgency-based border colors, and core.ini include"
      contains: "[urgency=critical]"
    - path: "hyprlock.conf"
      provides: "Hyprlock color variables and clock label widget with accent color"
      contains: "label {"
    - path: "chromium.theme"
      provides: "AMOLED black RGB triplet for Chromium browser policy"
      contains: "0,0,0"
  key_links:
    - from: "mako.ini"
      to: "~/.local/share/omarchy/default/mako/core.ini"
      via: "include= directive pulling in Omarchy core settings"
      pattern: "include=.*core.ini"
    - from: "hyprlock.conf"
      to: "~/.config/hypr/hyprlock.conf"
      via: "source = directive in Omarchy structural config"
      pattern: "\\$color = rgba"
    - from: "chromium.theme"
      to: "omarchy-theme-set-browser"
      via: "Script reads RGB triplet and sets BrowserThemeColor policy"
      pattern: "^[0-9]+,[0-9]+,[0-9]+$"
---

<objective>
Create AMOLED black theme overrides for Mako notifications (INI), Hyprlock lock screen (Hyprland conf), and Chromium browser (RGB triplet).

Purpose: These three components use distinct config formats (INI, Hyprland conf, raw RGB) and cover notification popups, the lock screen, and the browser toolbar -- surfaces the user sees regularly. Mako urgency levels provide at-a-glance notification priority. The Hyprlock clock widget adds a prominent themed element to the lock screen.

Output: Three static override files (mako.ini, hyprlock.conf, chromium.theme) in the theme repo root.
</objective>

<execution_context>
@/home/asem/.claude/get-shit-done/workflows/execute-plan.md
@/home/asem/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-desktop-component-coverage/02-RESEARCH.md
@colors.toml
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Mako notification theme with urgency-based border colors</name>
  <files>mako.ini</files>
  <action>
Create `mako.ini` in the theme repo root as a static override replacing the template-generated version.

**Structure (verified from research -- this file IS the entire mako config):**

1. **Include line (CRITICAL):** `include=~/.local/share/omarchy/default/mako/core.ini` -- pulls in Omarchy's core settings (anchor, timeout, width, padding, font, app-specific rules). MUST be the first directive.

2. **Global color defaults (after include):**
   - `text-color=#E8E0D0` (foreground)
   - `border-color=#7B6CBD` (accent -- normal urgency border)
   - `background-color=#000000FF` (AMOLED black, fully opaque -- note the FF alpha suffix required by mako)
   - `border-size=3` (thin border on all edges -- mako does NOT support per-side borders, see Pitfall 1 in research)

3. **Urgency criteria sections (per user decisions):**
   - `[urgency=low]` section: `border-color=#C49B5A` (muted yellow, colors.toml: color3)
   - No `[urgency=normal]` section needed -- inherits global border-color (#7B6CBD accent)
   - `[urgency=critical]` section: `border-color=#C45B6E` (red, colors.toml: color1), `default-timeout=0` (critical stays until dismissed)

**Per user decisions:**
- All notifications have AMOLED black background
- Urgency differentiated by border color only (Slack/Discord style)
- Normal = accent, Low = muted yellow, Critical = red
- Border is full border (not left-edge only -- mako limitation documented in research Pitfall 1)

**Claude's discretion:** Mako animation/timeout behavior is at Claude's discretion. Use sensible defaults: keep Omarchy core.ini timeout for normal/low, set `default-timeout=0` for critical only.

Add a comment header identifying this as a Clawmarchy static override.
  </action>
  <verify>
Verify mako.ini:
- File exists in repo root
- First content line is `include=~/.local/share/omarchy/default/mako/core.ini`
- Contains `text-color=#E8E0D0`
- Contains `background-color=#000000FF`
- Contains `border-color=#7B6CBD` as global default
- Contains `border-size=3`
- Contains `[urgency=low]` section with `border-color=#C49B5A`
- Contains `[urgency=critical]` section with `border-color=#C45B6E`
- Does NOT contain `[urgency=normal]` section (uses global defaults)
- Does NOT contain template syntax `{{ }}`
  </verify>
  <done>mako.ini exists with core.ini include, AMOLED black background, and three urgency levels using accent/yellow/red border colors</done>
</task>

<task type="auto">
  <name>Task 2: Create Hyprlock lock screen theme and Chromium browser theme</name>
  <files>hyprlock.conf, chromium.theme</files>
  <action>
**hyprlock.conf** -- Create in theme repo root as a static override.

The theme file is `source`d at the TOP of Omarchy's structural `hyprlock.conf`. It defines color variables consumed by the structural config AND adds a clock label widget.

**Color variables (REQUIRED by Omarchy structural hyprlock.conf):**
- `$color = rgba(0,0,0, 1.0)` -- fallback/background color (AMOLED black, fully opaque)
- `$inner_color = rgba(0,0,0, 0.8)` -- password input inner background (dark, slightly transparent)
- `$outer_color = rgba(123,108,189, 1.0)` -- password input border (accent, fully opaque, per user decision)
- `$font_color = rgba(232,224,208, 1.0)` -- text color (foreground)
- `$check_color = rgba(123,108,189, 1.0)` -- verification indicator (accent)

RGB values: accent #7B6CBD = 123,108,189; foreground #E8E0D0 = 232,224,208; background #000000 = 0,0,0.

**Clock label widget (theme addition per user decisions):**
```
label {
    monitor =
    text = cmd[update:1000] date "+%H:%M"
    color = rgba(123,108,189, 1.0)
    font_size = 120
    font_family = JetBrainsMono Nerd Font
    position = 0, 200
    halign = center
    valign = center
    shadow_passes = 1
    shadow_size = 5
}
```

**Per user decisions:**
- Large clock display over wallpaper, NO date or extra info (just %H:%M)
- Clock text in accent color
- Password input is dark box with accent-colored border (inner_color dark, outer_color accent)
- Wallpaper dimmed via existing blur passes (research confirms blur_passes=3 in Omarchy structural config provides visual softening; explicit dimming not natively available in hyprlock without duplicating background block)

**Font size:** 120 is large and prominent. Position 0,200 centers horizontally, 200px above center vertically.
**Shadow:** 1 pass, size 5 for subtle depth against wallpaper.

Add a comment header identifying this as a Clawmarchy static override.

---

**chromium.theme** -- Create in theme repo root.

Single line: `0,0,0` (AMOLED true black RGB triplet).

Omarchy's `omarchy-theme-set-browser` reads this file and converts to hex for Chromium's `BrowserThemeColor` policy. No other content needed.
  </action>
  <verify>
Verify hyprlock.conf:
- File exists in repo root
- Contains `$color = rgba(0,0,0` (AMOLED black)
- Contains `$inner_color = rgba(0,0,0` (dark input background)
- Contains `$outer_color = rgba(123,108,189` (accent border)
- Contains `$font_color = rgba(232,224,208` (foreground text)
- Contains `$check_color = rgba(123,108,189` (accent check)
- Contains `label {` block with clock widget
- Label text is `cmd[update:1000] date "+%H:%M"` (time only, no date)
- Label color uses accent rgba
- Label font_size is large (100+)
- Does NOT contain `background {` or `input-field {` blocks (those are in Omarchy structural config)

Verify chromium.theme:
- File exists in repo root
- Contains exactly `0,0,0` (AMOLED black RGB triplet)
- No other content besides optional trailing newline
  </verify>
  <done>hyprlock.conf defines 5 color variables with AMOLED black and accent values plus a large clock label widget; chromium.theme contains the AMOLED black RGB triplet 0,0,0</done>
</task>

</tasks>

<verification>
1. All three files (mako.ini, hyprlock.conf, chromium.theme) exist in the theme repo root
2. mako.ini includes core.ini, sets AMOLED black background, has 3 urgency levels with distinct border colors
3. hyprlock.conf defines all 5 required color variables and adds a clock label widget
4. chromium.theme contains only the RGB triplet 0,0,0
5. No template syntax in any file
6. All background values are #000000 or rgba(0,0,0,*) (AMOLED true black)
7. All accent values use #7B6CBD or rgba(123,108,189,*) (from colors.toml)
</verification>

<success_criteria>
Three static override files created in the theme repo root: mako.ini with urgency-based border color differentiation and core.ini include, hyprlock.conf with AMOLED color variables and a large accent-colored clock widget, and chromium.theme with the AMOLED black RGB triplet.
</success_criteria>

<output>
After completion, create `.planning/phases/02-desktop-component-coverage/02-02-SUMMARY.md`
</output>
