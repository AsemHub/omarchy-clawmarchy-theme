---
phase: 02-desktop-component-coverage
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [waybar.css, walker.css, swayosd.css]
autonomous: true
requirements: [COMP-01, COMP-02, COMP-03, COMP-05]

must_haves:
  truths:
    - "Waybar displays with true black background and accent-highlighted active workspace"
    - "Waybar has semantic color variables (red, yellow, green) for battery/system status indicators"
    - "Walker opens with AMOLED black background, accent border on search, and accent-highlighted selection"
    - "SwayOSD volume/brightness popups show AMOLED black background with accent-colored progress bar"
  artifacts:
    - path: "waybar.css"
      provides: "Waybar AMOLED theme with @define-color variables, semantic colors, and accent rules"
      contains: "@define-color background #000000"
    - path: "walker.css"
      provides: "Walker AMOLED theme with @define-color variables for all required color names"
      contains: "@define-color base #000000"
    - path: "swayosd.css"
      provides: "SwayOSD AMOLED theme with @define-color variables including accent progress bar"
      contains: "@define-color progress"
  key_links:
    - from: "waybar.css"
      to: "~/.config/waybar/style.css"
      via: "@import by Omarchy structural stylesheet"
      pattern: "@define-color (foreground|background)"
    - from: "walker.css"
      to: "~/.local/share/omarchy/default/walker/themes/omarchy-default/style.css"
      via: "@import by Omarchy Walker theme CSS"
      pattern: "@define-color (selected-text|text|base|border|foreground|background)"
    - from: "swayosd.css"
      to: "~/.config/swayosd/style.css"
      via: "@import by Omarchy structural stylesheet"
      pattern: "@define-color (background-color|progress)"
---

<objective>
Create AMOLED black GTK CSS theme overrides for Waybar status bar, Walker app launcher, and SwayOSD volume/brightness popups.

Purpose: These three components share the same integration pattern (GTK CSS with @define-color variables imported by Omarchy structural stylesheets) and can be themed together as a cohesive batch. Together they cover the status bar, app launcher, and system popup surfaces.

Output: Three static CSS override files (waybar.css, walker.css, swayosd.css) in the theme repo root.
</objective>

<execution_context>
@/home/asem/.claude/get-shit-done/workflows/execute-plan.md
@/home/asem/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-desktop-component-coverage/02-RESEARCH.md
@colors.toml
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Waybar AMOLED theme with semantic status colors</name>
  <files>waybar.css</files>
  <action>
Create `waybar.css` in the theme repo root as a static override replacing the template-generated version.

**Color variables (REQUIRED by Omarchy structural style.css):**
- `@define-color foreground #E8E0D0;` (colors.toml: foreground)
- `@define-color background #000000;` (colors.toml: background)

**Semantic status colors (COMP-02):**
- `@define-color theme-red #C45B6E;` (colors.toml: color1 -- for battery critical, error states)
- `@define-color theme-yellow #C49B5A;` (colors.toml: color3 -- for battery warning states)
- `@define-color theme-green #6EA88E;` (colors.toml: color2 -- for healthy/connected states)

**Accent highlight rules (COMP-01 per user decisions):**
- Active workspace: `#workspaces button.active { color: #7B6CBD; }` -- accent on active workspace number
- Module icons: `#battery, #network, #pulseaudio, #bluetooth, #cpu { color: #7B6CBD; }` -- accent on module icons
- Battery warning: `#battery.warning { color: @theme-yellow; }` -- semantic yellow for warning state
- Battery critical: `#battery.critical { color: @theme-red; }` -- semantic red for critical state
- Clock: `#clock { color: @foreground; }` -- foreground color, NOT accent (per user: text remains white/light gray)
- Tooltip: `tooltip { background-color: #000000; color: #E8E0D0; }` -- AMOLED black tooltip

**Per user decisions:**
- Solid true black background, NO transparency or blur
- NO separators between module groups (spacing alone distinguishes groups -- Omarchy structural CSS handles spacing, we just don't add separators)
- Text remains white/light gray (foreground color)
- Accent on active workspace indicator and module icons only

Add a comment header identifying this as a Clawmarchy static override with colors.toml source references.
  </action>
  <verify>
Verify the file exists and contains all required elements:
- File `waybar.css` exists in repo root
- Contains `@define-color foreground` and `@define-color background`
- Contains `@define-color theme-red`, `@define-color theme-yellow`, `@define-color theme-green`
- Contains `#workspaces button.active` rule with accent color
- Contains module icon rules with accent color
- Contains battery warning/critical rules with semantic colors
- Contains tooltip styling
- Does NOT contain any `@import` statements (this file IS the imported file)
- Does NOT contain template syntax like `{{ }}` (static file, hardcoded values)
  </verify>
  <done>waybar.css exists with @define-color variables for foreground, background, and 3 semantic status colors; CSS rules apply accent (#7B6CBD) to active workspace and module icons; battery states use semantic yellow/red; tooltip styled AMOLED black</done>
</task>

<task type="auto">
  <name>Task 2: Create Walker and SwayOSD AMOLED theme CSS</name>
  <files>walker.css, swayosd.css</files>
  <action>
**walker.css** -- Create in theme repo root as a static override.

Walker requires exactly 6 `@define-color` variable names that Omarchy's structural Walker CSS references:
- `@define-color selected-text #7B6CBD;` (accent -- selected result text highlighted with accent)
- `@define-color text #E8E0D0;` (foreground)
- `@define-color base #000000;` (AMOLED black background)
- `@define-color border #7B6CBD;` (accent -- border on search input field per user decision)
- `@define-color foreground #E8E0D0;` (foreground)
- `@define-color background #000000;` (AMOLED black)

Per user decisions: accent border on search input AND accent highlight on selected result. Both are achieved through the `border` and `selected-text` variable definitions above.

Add a comment header identifying the file as a Clawmarchy static override.

**swayosd.css** -- Create in theme repo root as a static override.

SwayOSD requires exactly 5 `@define-color` variable names:
- `@define-color background-color #000000;` (AMOLED black)
- `@define-color border-color #E8E0D0;` (foreground for subtle border)
- `@define-color label #E8E0D0;` (foreground for text labels)
- `@define-color image #E8E0D0;` (foreground for icons)
- `@define-color progress #7B6CBD;` (accent -- progress bar for volume/brightness per user decision)

Per user decisions: black popup background with accent-colored progress bar. The `progress` variable maps accent to the volume/brightness bar.

Add a comment header identifying the file as a Clawmarchy static override.
  </action>
  <verify>
Verify both files exist and contain all required elements:
- `walker.css` exists with all 6 required `@define-color` names: `selected-text`, `text`, `base`, `border`, `foreground`, `background`
- `walker.css` uses #000000 for base/background, #7B6CBD for selected-text/border, #E8E0D0 for text/foreground
- `swayosd.css` exists with all 5 required `@define-color` names: `background-color`, `border-color`, `label`, `image`, `progress`
- `swayosd.css` uses #000000 for background-color, #7B6CBD for progress, #E8E0D0 for border-color/label/image
- Neither file contains template syntax `{{ }}`
  </verify>
  <done>walker.css defines 6 color variables with AMOLED black base, accent border and selection; swayosd.css defines 5 color variables with AMOLED black background and accent progress bar</done>
</task>

</tasks>

<verification>
1. All three files (waybar.css, walker.css, swayosd.css) exist in the theme repo root
2. Each file uses only hardcoded hex values (no template syntax)
3. waybar.css has: 2 base variables + 3 semantic variables + accent rules
4. walker.css has: 6 required @define-color variables matching Omarchy's expected names
5. swayosd.css has: 5 required @define-color variables matching Omarchy's expected names
6. All background values are #000000 (AMOLED true black)
7. All accent values are #7B6CBD (from colors.toml)
8. All foreground values are #E8E0D0 (from colors.toml)
</verification>

<success_criteria>
Three CSS static override files created in the theme repo root, each defining the complete set of @define-color variables expected by their respective Omarchy structural stylesheets, with AMOLED true black backgrounds and accent color highlights matching the user's design decisions.
</success_criteria>

<output>
After completion, create `.planning/phases/02-desktop-component-coverage/02-01-SUMMARY.md`
</output>
