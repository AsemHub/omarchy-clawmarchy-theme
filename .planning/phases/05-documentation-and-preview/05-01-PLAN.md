---
phase: 05-documentation-and-preview
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [README.md]
autonomous: true
requirements: [DOC-01, DOC-02, DOC-03, DOC-04]

must_haves:
  truths:
    - "README has a clickable Table of Contents linking to all sections"
    - "README documents every themed component with file path and what it controls"
    - "README shows the full file tree including variants/ and backgrounds/ directories"
    - "README includes troubleshooting for at least 5 common issues with specific solutions"
    - "README includes customization guide for variant switching and wallpaper management"
    - "README documents compatibility requirements (Omarchy version, font, icons)"
  artifacts:
    - path: "README.md"
      provides: "Comprehensive theme documentation"
      contains: "## Contents"
    - path: "README.md"
      provides: "Component documentation"
      contains: "## Themed Components"
    - path: "README.md"
      provides: "Troubleshooting section"
      contains: "## Troubleshooting"
    - path: "README.md"
      provides: "Customization guide"
      contains: "## Customization"
    - path: "README.md"
      provides: "Compatibility section"
      contains: "## Compatibility"
  key_links:
    - from: "README.md TOC"
      to: "README.md sections"
      via: "GitHub anchor links"
      pattern: "\\[.*\\]\\(#.*\\)"
    - from: "README.md Themed Components"
      to: "COLORS.md"
      via: "Markdown link reference"
      pattern: "\\[COLORS.md\\]"
---

<objective>
Expand the existing README.md with comprehensive documentation sections: Table of Contents, Themed Components (file tree + component table), Customization guide, Troubleshooting, and Compatibility requirements.

Purpose: Fulfill DOC-01 through DOC-04 so users can understand, configure, troubleshoot, and verify compatibility of the theme without reading source files.
Output: Fully documented README.md with all new sections inserted into the existing structure.
</objective>

<execution_context>
@/home/asem/.claude/get-shit-done/workflows/execute-plan.md
@/home/asem/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-documentation-and-preview/05-CONTEXT.md
@.planning/phases/05-documentation-and-preview/05-RESEARCH.md
@README.md
@COLORS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Table of Contents and Themed Components section</name>
  <files>README.md</files>
  <action>
Edit the existing README.md to add two new sections. Do NOT rewrite existing sections (Install, Features, Accent Variants, Palette, Credits, Switching Themes) -- expand around them.

**1. Table of Contents** -- Insert immediately after the `# Clawmarchy` title line and its subtitle. Use GitHub anchor link format:

```markdown
## Contents

- [Install](#install)
- [Features](#features)
- [Themed Components](#themed-components)
- [Accent Variants](#accent-variants)
- [Customization](#customization)
- [Troubleshooting](#troubleshooting)
- [Compatibility](#compatibility)
- [Palette](#palette)
- [Credits](#credits)
- [Switching Themes](#switching-themes)
```

**2. Themed Components section (DOC-01)** -- Insert between the existing `## Features` and `## Accent Variants` sections. Use hybrid format: file tree first, then component table.

File tree (fenced code block, no language tag):
```
clawmarchy/
├── colors.toml              # Color palette (source of truth)
├── hyprland.conf            # Window manager config
├── waybar.css               # Status bar styling
├── walker.css               # App launcher styling
├── mako.ini                 # Notification styling
├── swayosd.css              # Volume/brightness popups
├── hyprlock.conf            # Lock screen config
├── btop.theme               # System monitor gradients
├── neovim.lua               # Neovim color overrides
├── vscode.json              # VS Code workspace colors
├── chromium.theme           # Browser toolbar color
├── icons.theme              # GTK icon theme name
├── clawmarchy-variant       # Variant switching script
├── backgrounds/
│   ├── 1-sakura-cherry-blossoms.png
│   ├── 2-ocean-midnight-harbor.png
│   ├── 3-tide-underwater-shrine.png
│   ├── 4-ember-lantern-festival.png
│   ├── 5-moss-forest-shrine.png
│   └── qhd/                # QHD downscaled versions
└── variants/
    ├── ember/               # 9 config files per variant
    ├── moss/
    ├── ocean/
    ├── sakura/
    ├── tide/
    └── yoru/
```

After the tree, add a brief note: "All config files except `colors.toml` are static overrides. See [COLORS.md](COLORS.md) for detailed color mapping."

Then the component table:

| File | Component | What It Controls |
|------|-----------|------------------|
| `colors.toml` | Color palette | All theme colors; read by Omarchy's template engine |
| `hyprland.conf` | Hyprland | Window borders, opacity override, blur, shadows, animations |
| `waybar.css` | Waybar | Status bar colors, accent highlights, battery/network status indicators |
| `walker.css` | Walker | App launcher AMOLED background and accent search border |
| `mako.ini` | Mako | Notification colors with urgency-based border differentiation |
| `swayosd.css` | SwayOSD | Volume/brightness popup colors |
| `hyprlock.conf` | Hyprlock | Lock screen colors, accent clock, wallpaper dimming overlay |
| `btop.theme` | btop | System monitor color gradients (cyan-to-magenta load mapping) |
| `neovim.lua` | Neovim | tokyonight-night AMOLED black background overrides |
| `vscode.json` | VS Code | 30 workspace color customizations for AMOLED black surfaces |
| `chromium.theme` | Chromium | Browser toolbar background color |
| `icons.theme` | GTK icons | Yaru-purple-dark icon set |

Keep tone minimal and clean -- tables over prose. No explanation of how configs work internally.
  </action>
  <verify>
Read README.md and confirm:
1. `## Contents` section exists with 10 anchor links
2. `## Themed Components` section exists between Features and Accent Variants
3. File tree code block shows all 12 config files, backgrounds/, variants/ dirs
4. Component table has 12 rows
5. COLORS.md link is present
6. All existing sections (Install, Features, Accent Variants, Palette, Credits, Switching Themes) are preserved unchanged
  </verify>
  <done>README has a Table of Contents with working anchor links and a Themed Components section with full file tree and 12-row component table</done>
</task>

<task type="auto">
  <name>Task 2: Add Customization, Troubleshooting, and Compatibility sections</name>
  <files>README.md</files>
  <action>
Add three new sections to README.md, continuing the expansion from Task 1.

**1. Customization section (DOC-03)** -- Insert after `## Accent Variants`. Two subsections:

**Switching Variants** subsection: Document `clawmarchy-variant <name>` usage. Explain it copies variant config files to theme root and runs `omarchy-theme-set`. Note that users need to reload Waybar and reopen apps to see the new accent color. Reference the Accent Variants table above for available options. Keep it to 4-5 lines -- the Accent Variants section already documents the variants themselves.

**Wallpapers** subsection: Document the `backgrounds/` directory location. List the 5 wallpapers with their paired variants in a compact table:

| File | Scene | Paired Variant |
|------|-------|----------------|
| `1-sakura-cherry-blossoms.png` | Cherry blossom garden | sakura |
| `2-ocean-midnight-harbor.png` | Midnight harbor | ocean |
| `3-tide-underwater-shrine.png` | Underwater shrine | tide |
| `4-ember-lantern-festival.png` | Lantern festival | ember |
| `5-moss-forest-shrine.png` | Forest shrine | moss |

Add one line noting QHD versions in `backgrounds/qhd/`. Add one line about adding custom wallpapers (place PNG files in `backgrounds/` directory).

Do NOT include manual hex editing instructions -- that is v2/CLI-01 scope per user decision.

**2. Troubleshooting section (DOC-02)** -- Insert after Customization. Document 5 issues using problem/solution format with `###` sub-headings:

Issue 1: "Windows look slightly gray instead of true black"
- Cause: Omarchy's default opacity multiplier
- Fix: `hyprctl reload` to pick up theme's opacity override. Check for conflicting rules in personal config with `hyprctl getoption decoration:active_opacity`

Issue 2: "Lock screen or Waybar icons show missing characters"
- Cause: JetBrainsMono Nerd Font not installed
- Fix: Install via `pacman -S ttf-jetbrains-mono-nerd` or Omarchy menu (Install > Style > Font)

Issue 3: "Icons don't change after installing theme"
- Cause: Icon theme not installed or needs full logout/login
- Fix: Ensure Yaru icon theme is installed. Do a full logout/login (not just `hyprctl reload`)

Issue 4: "VS Code still shows default Tokyo Night colors"
- Cause: Omarchy does not auto-apply vscode.json colorCustomizations
- Fix: Manually copy the `[Tokyo Night]` colorCustomizations block from `vscode.json` into VS Code's `settings.json`

Issue 5: "Some apps still show old accent color after variant switch"
- Cause: Running apps cache their config at launch
- Fix: Reload Waybar with `killall waybar && waybar &`, reopen terminals and editors

**3. Compatibility section (DOC-04)** -- Insert after Troubleshooting. Keep it compact -- a simple requirements list:

- **Omarchy** 3.0 or later
- **Hyprland/Wayland** (X11 not supported)
- **JetBrainsMono Nerd Font** -- used by lock screen (included with Omarchy by default)
- **Yaru-purple-dark icons** -- used by icon theme (included with Omarchy by default)
- **VS Code with Tokyo Night extension** -- optional, for editor theming

**Section ordering in final README:** The existing `## Switching Themes` section should be moved to after `## Compatibility` (or kept at the very end). The existing `## Palette` and `## Credits` sections remain where they are (between Compatibility and Switching Themes). Final order: Contents, Install, Features, Themed Components, Accent Variants, Customization, Troubleshooting, Compatibility, Palette, Credits, Switching Themes.
  </action>
  <verify>
Read README.md and confirm:
1. `## Customization` section exists with "Switching Variants" and "Wallpapers" subsections
2. Customization does NOT contain manual hex editing instructions
3. `## Troubleshooting` section exists with 5 `###` sub-issues
4. Each troubleshooting issue has a cause and fix
5. `## Compatibility` section exists with 5 bullet points
6. Section order matches: Contents > Install > Features > Themed Components > Accent Variants > Customization > Troubleshooting > Compatibility > Palette > Credits > Switching Themes
7. TOC anchor links from Task 1 still valid (test that section headings match TOC entries)
  </verify>
  <done>README has Customization guide with variant switching and wallpaper docs, Troubleshooting with 5 issues, and Compatibility with requirements list. All sections flow in correct order with valid TOC links.</done>
</task>

</tasks>

<verification>
- [ ] README.md contains all 11 sections in correct order
- [ ] Table of Contents has 10 working anchor links
- [ ] Themed Components has file tree with all files and directories
- [ ] Component table has 12 rows covering every config file
- [ ] Customization covers variant switching (clawmarchy-variant) and wallpapers only
- [ ] Troubleshooting has 5 distinct issues with specific solutions
- [ ] Compatibility lists Omarchy 3.0+, Hyprland/Wayland, font, icons, VS Code
- [ ] No existing sections (Install, Features, Accent Variants, Palette, Credits) were rewritten
- [ ] COLORS.md referenced for detailed color mapping
- [ ] Tone is minimal and clean -- tables over prose
</verification>

<success_criteria>
README.md expanded from ~67 lines to ~200-250 lines with comprehensive documentation covering all 4 DOC requirements. Every themed component documented, troubleshooting actionable, customization scoped to pre-built variants only.
</success_criteria>

<output>
After completion, create `.planning/phases/05-documentation-and-preview/05-01-SUMMARY.md`
</output>
